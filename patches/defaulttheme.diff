From 399edc45c6bd4b95fb2d8c9f29f95c8090fd8070 Mon Sep 17 00:00:00 2001
From: gv1222 <gvelji@gmail.com>
Date: Wed, 25 Feb 2015 13:22:51 -0500
Subject: [PATCH] Remove themes and change modern to default

---
 templates/head.jade | 2 +-
 www/js/util.js      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/templates/head.jade b/templates/head.jade
index bc4ecc1..b73962e 100644
--- a/templates/head.jade
+++ b/templates/head.jade
@@ -7,7 +7,7 @@ mixin head()
   title= siteTitle
   link(href="/css/sticky-footer-navbar.css", rel="stylesheet")
   link(href="/css/cytube.css", rel="stylesheet")
-  link(id="usertheme", href="/css/themes/slate.css", rel="stylesheet")
+  link(id="usertheme", href="/css/themes/modern.css", rel="stylesheet")
   script(src="/js/theme.js")
   //[if lt IE 9]
     <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
diff --git a/www/js/util.js b/www/js/util.js
index c5fda9e..fa24cd0 100644
--- a/www/js/util.js
+++ b/www/js/util.js
@@ -703,7 +703,7 @@ function applyOpts() {
     if ($("#usertheme").attr("href") !== USEROPTS.theme) {
         var old = $("#usertheme").attr("id", "usertheme_old");
         var theme = USEROPTS.theme;
-        if (theme === "default") {
+        if (theme === "default" || "slate" || "light" || "cyborg") {
             theme = "/css/themes/modern.css";
         }
         $("<link/>").attr("rel", "stylesheet")
-- 
1.9.5.msysgit.0

From c465ed71fa6b4c8b3b55c777c86afd1846aa10c0 Mon Sep 17 00:00:00 2001
From: gv1222 <gvelji@gmail.com>
Date: Wed, 25 Feb 2015 13:08:08 -0500
Subject: [PATCH] remove other themes

---
 templates/useroptions.jade | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/templates/useroptions.jade b/templates/useroptions.jade
index cff8dd9..1fcbc3e 100644
--- a/templates/useroptions.jade
+++ b/templates/useroptions.jade
@@ -30,10 +30,6 @@ mixin us-general
         label.control-label.col-sm-4(for="#us-theme") Theme
         .col-sm-8
           select#us-theme.form-control
-            option(value="/css/themes/light.css") Light
-            option(value="/css/themes/bootstrap-theme.min.css") Bootstrap
-            option(value="/css/themes/slate.css") Slate
-            option(value="/css/themes/cyborg.css") Cyborg
             option(value="/css/themes/modern.css") Modern
       .form-group
         label.control-label.col-sm-4(for="#us-layout") Layout
-- 
1.9.5.msysgit.0

From 24d3771435478ae88ce0f8ae0417b9a56d6a21ca Mon Sep 17 00:00:00 2001
From: gv1222 <gvelji@gmail.com>
Date: Wed, 25 Feb 2015 12:20:22 -0500
Subject: [PATCH] Default to modern theme

---
 www/js/data.js  | 6 +++---
 www/js/theme.js | 4 ++--
 www/js/util.js  | 2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/www/js/data.js b/www/js/data.js
index 7f29ddd..a81737c 100644
--- a/www/js/data.js
+++ b/www/js/data.js
@@ -92,7 +92,7 @@ function getOrDefault(k, def) {
 }
 
 var USEROPTS = {
-    theme                : getOrDefault("theme", "/css/themes/slate.css"),
+    theme                : getOrDefault("theme", "/css/themes/modern.css"),
     layout               : getOrDefault("layout", "fluid"),
     synch                : getOrDefault("synch", true),
     hidevid              : getOrDefault("hidevid", false),
@@ -182,9 +182,9 @@ function eraseCookie(name) {
 (function () {
     var localVersion = parseFloat(getOpt("version"));
     if (isNaN(localVersion)) {
-        USEROPTS.theme = "/css/themes/slate.css";
+        USEROPTS.theme = "/css/themes/modern.css";
         USEROPTS.layout = "fluid";
-        setOpt("theme", "/css/themes/slate.css");
+        setOpt("theme", "/css/themes/modern.css");
         setOpt("layout", "fluid");
         setOpt("version", CL_VERSION);
     }
diff --git a/www/js/theme.js b/www/js/theme.js
index 0d1e38b..d055be4 100644
--- a/www/js/theme.js
+++ b/www/js/theme.js
@@ -3,7 +3,7 @@
     return s.trim();
   });
 
-  var theme = "/css/themes/slate.css";
+  var theme = "/css/themes/modern.css";
   for (var i = 0; i < c.length; i++) {
     if (c[i].indexOf("cytube-theme=") === 0) {
       theme = c[i].split("=")[1];
@@ -15,7 +15,7 @@
     return;
   }
 
-  if (theme !== "/css/themes/slate.css") {
+  if (theme !== "/css/themes/modern.css") {
     console.log("THEME COOKIE:", theme);
     var cur = document.getElementById("usertheme");
     cur.parentNode.removeChild(cur);
diff --git a/www/js/util.js b/www/js/util.js
index d554006..c5fda9e 100644
--- a/www/js/util.js
+++ b/www/js/util.js
@@ -704,7 +704,7 @@ function applyOpts() {
         var old = $("#usertheme").attr("id", "usertheme_old");
         var theme = USEROPTS.theme;
         if (theme === "default") {
-            theme = "/css/themes/slate.css";
+            theme = "/css/themes/modern.css";
         }
         $("<link/>").attr("rel", "stylesheet")
             .attr("type", "text/css")
-- 
1.9.5.msysgit.0

